@font-face {
  font-family: 'OpenSansRegular';
  src: url('../src/assets/OpenSans-Light.ttf') format('truetype');
}
@font-face {
  font-family: 'OpenSansBold';
  src: url('../src/assets/OpenSans-Bold.ttf') format('truetype');
}
@font-face {
  font-family: 'Alagard';
  src: url('../src/assets/alagard-12px-unicode.ttf') format('truetype');
}

:root{
  --bg: #1E1C17;

  /* линии сетки */
  --grid: rgba(165, 211, 198, 0.10);
  --grid-strong: rgba(165, 211, 198, 0.18);

  /* размер клетки/толщина линий */
  --cell: 52px;
  --line: 1px;

  /* скорость “движения” */
  --grid-speed: 22s;
  --noise-speed: 10s;

  /* интенсивность исчезания */
  --fade: rgba(30, 28, 23, 0.92);
}

html, body {
  height: 100%;
}

body{
  isolation: isolate;
  margin: 0;
  min-height: 100vh;
  background: var(--bg);
  color: rgba(255,255,255,0.92);
  overflow-x: hidden;
  position: relative;
}

/* Сетка едет */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -2;

  background-image:
    linear-gradient(to right, var(--grid) var(--line), transparent var(--line)),
    linear-gradient(to bottom, var(--grid) var(--line), transparent var(--line));
  background-size: var(--cell) var(--cell);

  /* виньетка */
  box-shadow: inset 0 0 160px rgba(0,0,0,0.52);

  /* ВАЖНО: анимируем именно background-position */
  animation: gridDrift 18s linear infinite;

  will-change: background-position;
  transform: translateZ(0);
}

/* Сетка "пропадает", но маска НЕ двигается (значит не мерцает) */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;

  background-image:
    linear-gradient(to right, var(--grid-strong) var(--line), transparent var(--line)),
    linear-gradient(to bottom, var(--grid-strong) var(--line), transparent var(--line));
  background-size: var(--cell) var(--cell);

  opacity: 0.55;

  /* та же анимация движения */
  animation: gridDrift 18s linear infinite;

  /* статичная шумовая маска */
  -webkit-mask-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'>\
<filter id='n'>\
  <feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/>\
  <feComponentTransfer>\
    <feFuncA type='gamma' amplitude='1' exponent='1.6' offset='0'/>\
  </feComponentTransfer>\
</filter>\
<rect width='240' height='240' filter='url(%23n)'/>\
</svg>");
  mask-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='240' height='240'>\
<filter id='n'>\
  <feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='3' stitchTiles='stitch'/>\
  <feComponentTransfer>\
    <feFuncA type='gamma' amplitude='1' exponent='1.6' offset='0'/>\
  </feComponentTransfer>\
</filter>\
<rect width='240' height='240' filter='url(%23n)'/>\
</svg>");

  -webkit-mask-repeat: repeat;
  mask-repeat: repeat;
  -webkit-mask-size: 240px 240px;
  mask-size: 240px 240px;

  will-change: background-position;
  transform: translateZ(0);
}

/* движение — диагональное, выглядит “дорого” */
@keyframes gridDrift{
  0%   { background-position: 0 0; }
  100% { background-position: calc(var(--cell) * 3) calc(var(--cell) * 2); }
}